@{
    ViewData["Title"] = "الجداول الدراسية";
}
<html>
    <head>

    </head>
    <body>

    <!-- جدول دراسي -->
    <section class="container">

        <!--Section title-->
        <div class="text-center mb-4 mt-4">
            <div class="container section-title" data-aos="fade-up">
                <h2>الجـداول الـدراسـيـة</h2>
                <img src="/img/imgdividor.svg" alt="Description of SVG">
            </div>
        </div>
        <div class="table-responsive">
            <table class="table custom-table text-center" id="studyTable">

                <thead>
                    <tr>
                        <th>#</th>
                        <th>الفصل الدراسي</th>
                        <th>السنة <button class="sort-button" onclick="sortTable()"><i class="bi bi-caret-down-fill"></i></button></th>
                        <th>اسم القسم</th>
                        <th>الفترة</th>
                        <th>الملف</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>الفصل الربيع</td>
                        <td>2023م</td>
                        <td>إدارة أعمال</td>
                        <td>الصباحية</td>
                        <td><span class="view-button">عرض</span></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>الفصل الربيع</td>
                        <td>2020م</td>
                        <td>محاسبة</td>
                        <td>المسائية</td>
                        <td><span class="view-button">عرض</span></td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>الفصل الربيع</td>
                        <td>2023م</td>
                        <td>تقنية المعلومات</td>
                        <td>الصباحية</td>
                        <td><span class="view-button">عرض</span></td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>الفصل الربيع</td>
                        <td>2023م</td>
                        <td>إدارة أعمال</td>
                        <td>المسائية</td>
                        <td><span class="view-button">عرض</span></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>

    <!--ترتيب حسب سنة-->
    <script>
        let sortDirection = false;

        function sortTable() {
            const table = document.getElementById("studyTable").getElementsByTagName("tbody")[0];
            const rows = Array.from(table.rows);

            // Sort rows by year
            rows.sort((a, b) => {
                const yearA = parseInt(a.cells[2].innerText.replace('م', ''));
                const yearB = parseInt(b.cells[2].innerText.replace('م', ''));
                return sortDirection ? yearA - yearB : yearB - yearA;
            });

            // Append sorted rows back to the table
            rows.forEach(row => table.appendChild(row));

            // Toggle sorting direction
            sortDirection = !sortDirection;
        }
    </script>

    </body>
    </html>